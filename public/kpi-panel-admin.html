<!doctype html>
<html lang="en">
<!--begin::Head-->
<style>
    .brand-image {
        opacity: 1 !important;
        width: 40px;
        height: auto;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
        border-radius: 6px;
        object-fit: contain;
    }

    .app-sidebar {
        height: 100vh;
        /* que ocupe toda la altura de la ventana */
        overflow-y: auto;
        /* permite scroll vertical */
        overflow-x: hidden;
        /* evita scroll horizontal */
    }

    .nav-item .nav-link {
        padding-top: 0.25rem;
        padding-bottom: 0.25rem;
        font-size: 0.9rem;
    }

    .nav-item {
        margin-bottom: 0;
    }
</style>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>myResultIQ | Ind Asig</title>
    <!--begin::Primary Meta Tags-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="AdminLTE v4 | Dashboard" />
    <meta name="author" content="ColorlibHQ" />
    <meta name="description"
        content="AdminLTE is a Free Bootstrap 5 Admin Dashboard, 30 example pages using Vanilla JS." />
    <meta name="keywords"
        content="bootstrap 5, bootstrap, bootstrap 5 admin dashboard, bootstrap 5 dashboard, bootstrap 5 charts, bootstrap 5 calendar, bootstrap 5 datepicker, bootstrap 5 tables, bootstrap 5 datatable, vanilla js datatable, colorlibhq, colorlibhq dashboard, colorlibhq admin dashboard" />
    <!--end::Primary Meta Tags-->

    <!--begin::Fonts-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css"
        integrity="sha256-tXJfXfp6Ewt1ilPzLDtQnJV4hclT9XuaZUKyUvmyr+Q=" crossorigin="anonymous" />
    <!--end::Fonts-->

    <!--begin::Third Party Plugin(OverlayScrollbars)-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/styles/overlayscrollbars.min.css"
        integrity="sha256-tZHrRjVqNSRyWg2wbppGnT833E/Ys0DHWGwT04GiqQg=" crossorigin="anonymous" />
    <!--end::Third Party Plugin(OverlayScrollbars)-->

    <!--begin::Third Party Plugin(Bootstrap Icons)-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
        integrity="sha256-9kPW/n5nn53j4WMRYAxe9c1rCY96Oogo/MKSVdKzPmI=" crossorigin="anonymous" />
    <!--end::Third Party Plugin(Bootstrap Icons)-->

    <!--begin::Required Plugin(AdminLTE)-->
    <link rel="stylesheet" href="../css/estilos-custom.css">
    <!--end::Required Plugin(AdminLTE)-->

    <!-- apexcharts -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.css"
        integrity="sha256-4MX+61mt9NVvvuPjUWdUdyfZfxSB1/Rf9WtqRHgG5S0=" crossorigin="anonymous" />

    <!-- jsvectormap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/css/jsvectormap.min.css"
        integrity="sha256-+uGLJmmTKOqBr+2E6KDYs/NRsHxSkONXFHUL0fy2O/4=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- AdminLTE se basa en Bootstrap, asÃ­ que hay que incluirlo primero:-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!--  Bootstrap Icons (Para que <i class="bi bi-..."> funcione) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <!--  AdminLTE CSS (Estilos del template)-->
    <link rel="stylesheet" href="../css/adminlte.css" />

    <link href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.12/themes/default/style.min.css" rel="stylesheet">

    <style>
        .brand-image {
            opacity: 1 !important;
            width: 40px;
            height: auto;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.15);
            border-radius: 6px;
            object-fit: contain;
        }

        .card-title {
            text-align: center !important;
        }

        #tablaIndicadores th,
        #tablaIndicadores td {
            border-right: none !important;
        }

        #tablaIndicadores {
            border-top: 1px solid #dee2e6;
            /* mismo color que usa Bootstrap */
            border-right: 1px solid #dee2e6;
            /* mismo color que usa Bootstrap */
        }

        div.dataTables_filter {
            margin-bottom: 1rem;
            /* espacio debajo del buscador */
        }

        .btn-icon-minimal {
            padding: 2px 4px !important;
            line-height: 1 !important;
            min-width: auto !important;
        }
    </style>
</head>
<!--end::Head-->

<!--begin::Body-->

<body class="layout-fixed sidebar-expand-lg bg-body-tertiary">
    <!--begin::App Wrapper-->
    <div class="app-wrapper">
        <!--begin::Header-->
        <nav class="app-header navbar navbar-expand bg-body">
            <!--begin::Container-->
            <div class="container-fluid">
                <!--begin::Start Navbar Links-->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" data-lte-toggle="sidebar" href="#" role="button">
                            <i class="bi bi-list"></i>
                        </a>
                    </li>
                    <li class="nav-item d-none d-md-block"><a href="#" class="nav-link">Home</a></li>
                    <!-- <li class="nav-item d-none d-md-block"><a href="#" class="nav-link">Contact</a></li> -->
                </ul>
                <!--end::Start Navbar Links-->
                <!--begin::End Navbar Links-->
                <ul class="navbar-nav ms-auto">
                    <!--begin::Navbar Search-->
                    <!-- <li class="nav-item">
                        <a class="nav-link" data-widget="navbar-search" href="#" role="button">
                            <i class="bi bi-search"></i>
                        </a>
                    </li> -->
                    <!--end::Navbar Search-->

                    <!--begin::Messages Dropdown Menu-->
                    <li class="nav-item dropdown">
                        <a class="nav-link" data-bs-toggle="dropdown" href="#">
                            <i class="bi bi-chat-text"></i>
                            <span class="navbar-badge badge text-bg-danger">3</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end">
                            <a href="#" class="dropdown-item">
                                <!--begin::Message-->
                                <div class="d-flex">
                                    <div class="flex-shrink-0">
                                        <img src="dist/images/user1-128x128.jpg" alt="User Avatar"
                                            class="img-size-50 rounded-circle me-3" />
                                    </div>
                                    <div class="flex-grow-1">
                                        <h3 class="dropdown-item-title">
                                            Brad Diesel
                                            <span class="float-end fs-7 text-danger"><i
                                                    class="bi bi-star-fill"></i></span>
                                        </h3>
                                        <p class="fs-7">Call me whenever you can...</p>
                                        <p class="fs-7 text-secondary">
                                            <i class="bi bi-clock-fill me-1"></i> 4 Hours Ago
                                        </p>
                                    </div>
                                </div>
                                <!--end::Message-->
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <!--begin::Message-->
                                <div class="d-flex">
                                    <div class="flex-shrink-0">
                                        <img src="dist/images/user8-128x128.jpg" alt="User Avatar"
                                            class="img-size-50 rounded-circle me-3" />
                                    </div>
                                    <div class="flex-grow-1">
                                        <h3 class="dropdown-item-title">
                                            John Pierce
                                            <span class="float-end fs-7 text-secondary">
                                                <i class="bi bi-star-fill"></i>
                                            </span>
                                        </h3>
                                        <p class="fs-7">I got your message bro</p>
                                        <p class="fs-7 text-secondary">
                                            <i class="bi bi-clock-fill me-1"></i> 4 Hours Ago
                                        </p>
                                    </div>
                                </div>
                                <!--end::Message-->
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <!--begin::Message-->
                                <div class="d-flex">
                                    <div class="flex-shrink-0">
                                        <img src="dist/images/user3-128x128.jpg" alt="User Avatar"
                                            class="img-size-50 rounded-circle me-3" />
                                    </div>
                                    <div class="flex-grow-1">
                                        <h3 class="dropdown-item-title">
                                            Nora Silvester
                                            <span class="float-end fs-7 text-warning">
                                                <i class="bi bi-star-fill"></i>
                                            </span>
                                        </h3>
                                        <p class="fs-7">The subject goes here</p>
                                        <p class="fs-7 text-secondary">
                                            <i class="bi bi-clock-fill me-1"></i> 4 Hours Ago
                                        </p>
                                    </div>
                                </div>
                                <!--end::Message-->
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
                        </div>
                    </li>
                    <!--end::Messages Dropdown Menu-->
                    <!--begin::Notifications Dropdown Menu-->
                    <li class="nav-item dropdown">
                        <a class="nav-link" data-bs-toggle="dropdown" href="#">
                            <i class="bi bi-bell-fill"></i>
                            <span class="navbar-badge badge text-bg-warning">15</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end">
                            <span class="dropdown-item dropdown-header">15 Notifications</span>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="bi bi-envelope me-2"></i> 4 new messages
                                <span class="float-end text-secondary fs-7">3 mins</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="bi bi-people-fill me-2"></i> 8 friend requests
                                <span class="float-end text-secondary fs-7">12 hours</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="bi bi-file-earmark-fill me-2"></i> 3 new reports
                                <span class="float-end text-secondary fs-7">2 days</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item dropdown-footer"> See All Notifications </a>
                        </div>
                    </li>
                    <!--end::Notifications Dropdown Menu-->

                    <!--begin::Fullscreen Toggle-->
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-lte-toggle="fullscreen">
                            <i data-lte-icon="maximize" class="bi bi-arrows-fullscreen"></i>
                            <i data-lte-icon="minimize" class="bi bi-fullscreen-exit" style="display: none"></i>
                        </a>
                    </li>
                    <!--end::Fullscreen Toggle-->

                    <!--begin::User Menu Dropdown"-->
                    <li class="nav-item dropdown1 user-menu">

                        <span class="nav-link dropdown-toggle">
                            <span class="nav-link d-none d-md-inline">Bienvenido, <strong>Daniel GonzÃ¡lez
                                    (ADM)</strong></span>
                            <img src="/dist/images/user6-128x128.jpg" class="user-image rounded-circle shadow"
                                style="width: 40px; height: 40px;" alt="User Image" />
                        </span>
                    </li>
                    <!--end::User Menu Dropdown-->

                    <li>
                        <!-- <a href="#" class="btn btn-default btn-flat float-end"> Salir</a> -->
                        <a href="#" class="nav-link " data-bs-toggle="modal" data-bs-target="#logoutModal">
                            <i class="fas fa-sign-out-alt me-1"></i> Salir
                        </a>
                    </li>
                    <!--end::User Menu Dropdown-->
                </ul>
                <!--end::End Navbar Links-->
            </div>
            <!--end::Container-->
        </nav>
        <!--end::Header-->

        <aside class="app-sidebar bg-body-secondary shadow" data-bs-theme="light" id="asideContainer"></aside>

        <script>
            async function cargarAside() {
                const res = await fetch('aside.html');
                const html = await res.text();
                document.getElementById('asideContainer').innerHTML = html;

                // Marcar activo segÃºn la pÃ¡gina actual
                const links = document.querySelectorAll('#asideContainer a');
                links.forEach(link => {
                    if (link.href === window.location.href) {
                        link.classList.add('active');
                    }
                });
            }

            cargarAside();
        </script>

        <!--begin::App Main-->
        <main class="app-main">
            <!--begin::App Content Header-->
            <div class="app-content-header">
                <!--begin::Container-->
                <div class="container-fluid">
                    <!--begin::Row-->
                    <div class="row">
                        <div class="col-sm-6">
                            <h3 class="mb-0">InformaciÃ³n del Administrador</h3>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-end">
                                <li class="breadcrumb-item"><a href="#">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
                            </ol>
                        </div>
                    </div>
                    <!--end::Row-->

 

                    <div class="row">
                        <!-- Start col -->
                        <div class="col-md-8 mt-4">
                            <!--begin::Latest Order Widget-->
                            <div class="card card-primary card-outline">
                                <div class="card-header">
                                    <h3 class="card-title">InformaciÃ³n a publicar</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-lte-toggle="card-collapse">
                                            <i data-lte-icon="expand" class="bi bi-plus-lg"></i>
                                            <i data-lte-icon="collapse" class="bi bi-dash-lg"></i>
                                        </button>
                                        <button type="button" class="btn btn-tool" data-lte-toggle="card-remove">
                                            <i class="bi bi-x-lg"></i>
                                        </button>
                                    </div>
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body p-0">
                                    <div class="table-responsive">
                                        <table class="table m-0">
                                            <tbody>
                                                <tr>
                                                    <td>Vinculado con el punto siguiente,si esta al dia no deberÃ­a permitir cargar otras mediciones"
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>En control de plazo de mediciÃ³n, ojo que puede estar vigente el plazo y no vencido, ejemplo, durante un trimestre.  En octubre esta informado el 3er trimestre y no estarÃ­a vencido hasta que finalice el trimestre en curso.  Ej el 15 de octubre estÃ¡ cargado el 3 trimestre y dice "Demorado".  Parece que esta bien en el  mensual pero mal en el trimestral
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Suspender control de demoras. Comentar plazo solicitado en alta.
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Revisar ABM usuarios y destinos</td>
                                                </tr>
                                                <tr>
                                                    <td>Al crear un indicador ponerle 100% de importancia para obligar
                                                        al balanceo</td>
                                                </tr>
                                                <tr>
                                                    <td>Agregar vencido en indicadores de admin y sacar colores de
                                                        DimensiÃ³n</td>
                                                </tr>
                                                <tr>
                                                    <td>PKI con estado crÃ­tico</td>
                                                </tr>
                                                <tr>
                                                    <td>Quitar tendencia como mÃ©tricaa</td>
                                                </tr>
                                                <tr>
                                                    <td>Armar tabla de decisiones con meta unica y rangos</td>
                                                </tr>
                                                <tr>
                                                    <td>Modificar diagnÃ³stico automÃ¡tico segun tabla de decisiones
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Consulta de indicadores por tipo, dimensiÃ³n, categorÃ­a, etc</td>
                                                </tr>
                                                <tr>
                                                    <td>Presentar indicadores agrupados por cumplimiento (90 a 1009, (75
                                                        a 90), ETC ETC) ?</td>
                                                </tr>
                                                <tr>
                                                    <td>Definir un parÃ¡metro o pedir por pantalla el rango de
                                                        clasificaciÃ³n 0-50. 50.70. etc etc ?</td>
                                                </tr>
                                                <tr>
                                                    <td>Es posible acotar por pantalla el rango de fechas a mostrar
                                                </tr>
                                                <tr>
                                                    <td>Mostrar por pantalla el rango desde/hasta de las mediciones
                                                        consideradas y permitir que se modifique ese rango y se vuelvan
                                                        a mostar los resultados para ese rango
                                                </tr>
                                                <tr>
                                                    <td>Mostrar los resultados de un indicador, sin pasar por la
                                                        posiciÃ³n global.<br>desde la pantalla de indicadores poner un
                                                        iconito con grÃ¡fico para acceder a su comportamiento.</td>

                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- /.table-responsive -->
                                </div>
                                <!-- /.card-body -->

                                <!-- /.card-footer -->
                            </div>
                            <!-- /.card -->
                        </div>
                        <!-- /.col -->

                        <div id="alertaCondicional" class="card border-warning mb-3 col-md-3 mt-4"
                            style="display: none;">
                            <div class="row g-0 align-items-center">
                                <!-- Tu contenido existente sin cambios -->
                                <div class="col-auto p-4 d-flex flex-column align-items-center">
                                    <div><img src="https://cdn-icons-png.flaticon.com/512/463/463612.png" alt="Alerta"
                                            style="width: 40px; height: 40px;" class="mb-2"></div>
                                    <div class="card-body p-0 w-100">
                                        <p class="card-text mb-0 text-center">
                                            <a href="kpi-ponderado.html" class="nav-link">
                                                Revisar <strong>ValoraciÃ³n %</strong>
                                                por entidad y/o indicador.</a>
                                            <i class="bi bi-info-circle-fill text-primary ms-2" role="button"
                                                data-bs-toggle="modal" data-bs-target="#infoModal"></i>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <!--end::App Content-->

                    <div class="card mb-4">
                        <div class="card-header border-0" style="display: block">
                            <!-- <div style="display: flex; flex-direction: column; align-items: flex-start;"> -->
                            <div>
                                <h4 id="titulo-indicador">Seleccionar Indicador</h4>
                            </div>
                        </div>

                        <div id="formulario-carga" class="p-3  ml-3 border rounded shadow-sm bg-light"
                            style="display: none;">
                            <input type="hidden" id="indicadorCodigo" name="indicadorCodigo">
                            <h5 id="titulo-frecuencia">Frecuencia de mediciÃ³n: <span id="valor-frecuencia"></span></h5>

                            <h5 id="titulo-ult-medicion" style="border-bottom: 1px solid #ccc; padding-bottom: 10px;">
                                Ãltima MediciÃ³n: <span id="valor-ultima-medicion"></span>
                                <span style="margin-left: 10px;">Correspondiente a:</span>
                                <span id="periodo-ultima-medicion"></span>
                            </h5>

                            <h5>Registre nueva mediciÃ³n:</h5>

                            <form id="form-carga" class="ml-3 m-1 bg-light" style="width: 90%;">
                                <div class="row mb-2">

                                    <div class="col-md-2">
                                        <label for="fecha-carga" class="form-label"><strong>Fecha:</strong>
                                            <i class="fas fa-info-circle info-icon" data-bs-toggle="tooltip"
                                                data-bs-html="true" data-bs-custom-class="dark-tooltip"
                                                title="Fecha de realizaciÃ³n del cÃ¡lculo o relevamiento de datos, segÃºn la metodologÃ­a establecida para este indicador.">
                                            </i>
                                        </label>
                                        <input type="date" class="form-control" id="fecha-carga" required>
                                    </div>

                                    <div class="col-md-2">
                                        <label for="texto-perÃ­odo" class="form-label"><strong>PerÃ­odo medido:</strong>
                                            <i class="fas fa-info-circle info-icon" data-bs-toggle="tooltip"
                                                data-bs-html="true" data-bs-custom-class="dark-tooltip" title="IdentificaciÃ³n del perÃ­odo al que corresponde la mediciÃ³n.<br><br>
                                                â¢ <b>Diaria: </b> Dia evaluado<br><br>
                                                â¢ <b>Semanal: </b> NÃºmero de semana en el aÃ±o (1 a 52)<br><br>
                                                â¢ <b>Quincenal: </b> NÂ° de 1 a 24 a razÃ³n de dos quincenas por mes)<br>Ejemplo: 2da de agosto = 16 (7 x 2 + 2)<br><br>
                                                â¢ <b>Mensual: </b> NÃºmero de mes en el aÃ±o (1 a 12)<br><br>
                                                â¢ <b>Bimestral: </b> NÃºmero de bimestre en el aÃ±o (1 a 6)<br><br>
                                                â¢ <b>Trimestral: </b> NÃºmero de trimestre en el aÃ±o (1 a 4)<br><br>
                                                â¢ <b>Cuatrimestral: </b> NÃºmero de cuatrimestre en el aÃ±o (1 a 3)<br><br>
                                                â¢ <b>Semestral: </b> NÃºmero de semestre en el aÃ±o (1 o 2)<br><br>
                                                â¢ <b>Anual: </b> AÃ±o evaluado<br><br>">
                                            </i>
                                        </label>
                                        <span id="texto-periodo" class="form-control-plaintext"></span>
                                    </div>

                                    <div class="col-md-2">
                                        <label id="label-valor-periodo" for="valor-periodo" class="form-label">
                                            <strong>Valor perÃ­odo:</strong>
                                        </label>
                                        <input type="text" class="form-control" id="valor-periodo" required>
                                    </div>

                                    <div class="col-md-2" id="campo-label-anio" style="display: block">
                                        <label id="label-anio-periodo" for="label-anio-periodo" class="form-label">
                                            <strong>AÃ±o:</strong></label>
                                        <input type="text" class="form-control" id="label-anio-periodo" required>
                                    </div>

                                    <div class="col-md-2">
                                        <label class="form-label"><strong>Unidad:</strong></label>
                                        <span id="unidad-carga" class="form-control-plaintext"></span>
                                    </div>

                                    <div class="col-md-2">
                                        <label class="form-label"><strong>Valor medido:</strong></label>
                                        <input type="number" class="form-control" id="valor-carga" step="0.01" required>
                                    </div>

                                    <div class="col-md-12 mt-2">
                                        <label>Comentarios:</label>
                                        <input type="text" class="form-control" id="comentario-carga">
                                    </div>
                                </div>

                                <button type="submit" class="btn btn-success  mt-2">Guardar</button>
                                <button type="button" class="btn btn-secondary mt-2"
                                    id="cancelar-carga">Cancelar</button>
                            </form>
                        </div>

                        <div class="card-header d-flex justify-content-between align-items-center">
                            <div class="card-title">
                                <i class="fas fa-chart-line me-2"></i>
                                Lista de Indicadores
                            </div>
                            <div class="card-tools">
                                <span class="badge bg-primary" id="totalIndicadores">0 indicadores</span>
                            </div>
                        </div>

                        <div class="table-responsive m-4">
                            <!-- <table class="table table-striped table-hover mb-0"> -->
                            <table id="tablaIndicadores" class="table table-striped table-bordered table-sm">
                            </table>

                            <thead class="table-light">
                                <tr>
                                </tr>
                            </thead>
                            <tbody id="tbodyIndicadores">
                                <!-- Los datos se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
                            </tbody>
                            </table>
                        </div>
                        <!--end::Table-->

                        <!--begin::Empty State-->
                        <div class="text-center py-5" id="emptyState" style="display: none;">
                            <i class="fas fa-chart-line fa-3x text-muted mb-3"></i>
                            <h5 class="text-muted">No hay indicadores registrados</h5>
                            <p class="text-muted">Comience agregando su primer indicador PKI</p>
                        </div>
                        <!--end::Empty State-->
                    </div>

                    <footer class="main-footer text-center">
                        <strong>Â© 2025 - myResultIQ 1.0</strong>
                    </footer>
                </div>
            </div>
        </main>
        <!--end::App nain-->
    </div>
    <!--end::App Wrapper-->

    <!--begin::Modal del usuario-->
    <div class="modal fade" id="detalleUsuarioModal" tabindex="-1" aria-labelledby="detalleUsuarioLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="detalleUsuarioLabel">Info Responsable</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body text-center">
                    <img src="/dist/images/user1-128x128.jpg" class="rounded-circle shadow mb-3" alt="User Image" />
                    <p class="mb-1">Gerente de Operaciones</p>
                    <p class="mb-1">rdieguez@company.com.ar</p>
                    <p>+54 11 452 7898</p>
                </div>
            </div>
        </div>
    </div>
    <!--end::Modal del usuario-->

    <!-- Modal de ConfirmaciÃ³n de Logout -->
    <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="logoutModalLabel">Â¿Desea Salir?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    Esta acciÃ³n cerrarÃ¡ tu sesiÃ³n actual y volverÃ¡s a la pÃ¡gina de inicio.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmLogout">Salir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de InformaciÃ³n para revisar ValoraciÃ³n % -->
    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="infoModalLabel">Â¿Por quÃ© aparece esta advertencia?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    Esta advertencia aparece porque alguna modificaciÃ³n en los destinos/entidades o indicadores, ha
                    provocado que la valoraciÃ³n porcentual no totalice el 100% por nivel.<br>
                    PodÃ©s consultar los indicadores afectados en el detalle.
                </div>
                <div class="modal-footer">
                    <!-- BotÃ³n a la izquierda con link -->
                    <a href="kpi-ponderado.html" class="btn btn-primary">
                        Ir a ValoraciÃ³n %
                    </a>

                    <!-- BotÃ³n de cerrar a la derecha -->
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>

        let tablaIndicadores; // instancia global

        document.getElementById('confirmLogout').addEventListener('click', function () {
            // Limpiar lo necesario
            sessionStorage.clear();
            localStorage.clear(); // si usÃ¡s localStorage

            // Redirigir al inicio
            window.location.href = 'index.html';
        });

        // ConfiguraciÃ³n

        // OpciÃ³n 1: Solo necesitas el valor (mÃ¡s eficiente)
        document.addEventListener('DOMContentLoaded', function () {
            const API_URL = 'http://localhost:3000/api/alertas/1/valor';

            fetch(API_URL)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.valor == 1) {
                        document.getElementById('alertaCondicional').style.display = 'block';
                    } else {
                        document.getElementById('alertaCondicional').style.display = 'none';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('alertaCondicional').style.display = 'none';
                });
        });


        function calcularFechaEsperada(fechaConsulta, tipoPeriodo) {
            // segun la fecha del dia determina quÃ© fecha deberia ya haber informado el usuario
            const partes = fechaConsulta.split('-'); // "2025-09-16" â ["2025","09","16"]
            const fecha = new Date(partes[0], partes[1] - 1, partes[2]); // aÃ±o, mesIndex, dÃ­a
            let resultado;
            let dia = fecha.getDate();
            let mes = fecha.getMonth() + 1; // 1-12
            let anio = fecha.getFullYear();

            switch (tipoPeriodo) {
                case '01': // diaria (dÃ­a hÃ¡bil anterior)
                    const diaHabil = getDiaHabilAnterior(fecha);
                    resultado = diaHabil.toISOString().split('T')[0]; // yyyy-mm-dd
                    break;

                case '02': // semanal
                    // Obtener semana ISO y aÃ±o ISO
                    const { anioISO, semanaISO } = getSemanaISO(fecha);

                    // Semana anterior
                    let semanaAnterior = semanaISO - 1;
                    let anioSemanaAnterior = anioISO;

                    // Si la semana anterior cae en el aÃ±o anterior
                    if (semanaAnterior === 0) {
                        // Ãltima semana ISO del aÃ±o anterior (52 o 53 segÃºn el aÃ±o)
                        anioSemanaAnterior = anioISO - 1;
                        semanaAnterior = getSemanaISO(new Date(anioSemanaAnterior, 11, 31)).semanaISO;
                    }

                    // Guardar resultado en formato uniforme: "AAAA+semana"
                    resultado = `${anioSemanaAnterior}${semanaAnterior}`;
                    break;


                case '03': // quincenal
                    if (dia < 16) {
                        mes = mes - 1;
                        if (mes === 0) {
                            mes = 12;
                            anio = anio - 1;
                        }
                        mes = String(mes).padStart(2, "0"); // â "09"
                        resultado = `${anio}${mes}2`; // segunda quincena del mes anterior
                    } else {
                        mes = String(mes).padStart(2, "0"); // â "09"
                        resultado = `${anio}${mes}1`; // primera quincena del mes actual
                    }
                    break;

                case '04': // mensual
                    if (mes === 1) {
                        // si enero, el mes anterior es diciembre del aÃ±o anterior
                        resultado = `${anio - 1}12`;
                    } else {
                        // cualquier otro mes: mes anterior del mismo aÃ±o
                        mes = String(mes).padStart(2, "0"); // â "09"
                        resultado = `${anio}${mes - 1}`;
                    }
                    break;


                case '05': // bimestral
                    if (mes === 1 || mes === 2) {
                        // ene-feb â aÃ±o anterior + 6 (Ãºltimo bimestre del aÃ±o anterior)
                        resultado = `${anio - 1}6`;
                    } else if (mes === 3 || mes === 4) {
                        // mar-abr â aÃ±o actual + 1
                        resultado = `${anio}1`;
                    } else if (mes === 5 || mes === 6) {
                        // may-jun â aÃ±o actual + 2
                        resultado = `${anio}2`;
                    } else if (mes === 7 || mes === 8) {
                        // jul-ago â aÃ±o actual + 3
                        resultado = `${anio}3`;
                    } else if (mes === 9 || mes === 10) {
                        // sep-oct â aÃ±o actual + 4
                        resultado = `${anio}4`;
                    } else if (mes === 11 || mes === 12) {
                        // nov-dic â aÃ±o actual + 5
                        resultado = `${anio}5`;
                    }
                    break;


                case '06': // trimestral
                    if (mes >= 1 && mes <= 3) {
                        // meses 1-3 â aÃ±o anterior + sufijo 4
                        resultado = `${anio - 1}4`;
                    } else if (mes >= 4 && mes <= 6) {
                        // meses 4-6 â aÃ±o actual + sufijo 1
                        resultado = `${anio}1`;
                    } else if (mes >= 7 && mes <= 9) {
                        // meses 7-9 â aÃ±o actual + sufijo 2
                        resultado = `${anio}2`;
                    } else if (mes >= 10 && mes <= 12) {
                        // meses 10-12 â aÃ±o actual + sufijo 3
                        resultado = `${anio}3`;
                    }
                    break;


                case '07': // cuatrimestral
                    if (mes >= 1 && mes <= 4) {
                        // meses 1-4 â aÃ±o anterior + sufijo 3
                        resultado = `${anio - 1}3`;
                    } else if (mes >= 5 && mes <= 8) {
                        // meses 5-8 â aÃ±o actual + sufijo 1
                        resultado = `${anio}1`;
                    } else if (mes >= 9 && mes <= 12) {
                        // meses 9-12 â aÃ±o actual + sufijo 2
                        resultado = `${anio}2`;
                    }
                    break;


                case '08': // semestral
                    if (mes < 7) {
                        // primer semestre ya pasÃ³ â apÃ©ndice 2, aÃ±o anterior
                        resultado = `${anio - 1}2`;
                    } else {
                        // segundo semestre â apÃ©ndice 1, aÃ±o actual
                        resultado = `${anio}1`;
                    }
                    break;

                case '09': // anual
                    resultado = anio - 1; // aÃ±o anterior
                    break;

                default:
                    resultado = null;
            }

            return resultado;
        }


        // La funciÃ³n puede ser muy simple: toma un nÃºmero o string y devuelve siempre un string de 2 caracteres (01 â¦ 12).
        function normalizarMes(mes) {
            // Convierte a string y asegura longitud de 2 dÃ­gitos con ceros a la izquierda
            return String(mes).padStart(2, "0");
        }

        /**
 * Devuelve la semana ISO y el aÃ±o ISO de una fecha
 * @param {Date|string} fecha - objeto Date o string interpretable como fecha
 * @returns {{anioISO: number, semanaISO: number}}
 */
        function getSemanaISO(fecha = new Date()) {
            const f = new Date(Date.UTC(fecha.getFullYear(), fecha.getMonth(), fecha.getDate()));

            // Obtener el dÃ­a de la semana (lunes = 1, domingo = 7)
            const diaSemana = f.getUTCDay() || 7;

            // Ajustar al jueves de la misma semana
            f.setUTCDate(f.getUTCDate() + 4 - diaSemana);

            // AÃ±o ISO
            const anioISO = f.getUTCFullYear();

            // Primer dÃ­a del aÃ±o ISO
            const primerDiaAnoISO = new Date(Date.UTC(anioISO, 0, 1));

            // Diferencia en dÃ­as
            const diffDias = (f - primerDiaAnoISO) / (24 * 60 * 60 * 1000);

            // Semana ISO
            const semanaISO = Math.ceil((diffDias + 1) / 7);

            return { anioISO, semanaISO };
        }

        // Ejemplo de uso:
        // const hoy = new Date();
        // const { anioISO, semanaISO } = getSemanaISO(hoy);
        // console.log(`Hoy ${hoy.toISOString().split('T')[0]} â Semana ISO: ${semanaISO}, AÃ±o ISO: ${anioISO}`);

        // console.log('diaria: ' + calcularFechaEsperada('2025-09-16', '01')); // diaria â "2025-09-15"
        // console.log('semanal: ' + calcularFechaEsperada('2025-09-16', '02')); // semanal â "2025-09-01"
        // console.log('quincenal: ' + calcularFechaEsperada('2025-09-16', '03')); // quincenal â "91"
        // console.log('mensual: ' + calcularFechaEsperada('2025-09-16', '04')); // mensual â 8
        // console.log('bimestral: ' + calcularFechaEsperada('2025-09-16', '05')); // bimestral â 4
        // console.log('trimestral: ' + calcularFechaEsperada('2025-09-16', '06')); // trimestral â 3
        // console.log('cuatrimestral: ' + calcularFechaEsperada('2025-09-16', '07')); // cuatrimestral â 3
        // console.log('semestral: ' + calcularFechaEsperada('2025-09-16', '08')); // semestral â 2
        // console.log('anual: ' + calcularFechaEsperada('2025-09-16', '09')); // anual â 2024


        /**
 * Devuelve el dÃ­a hÃ¡bil anterior a la fecha dada
 * @param {Date|string} fecha - fecha a partir de la cual buscar
 * @returns {Date} dÃ­a hÃ¡bil anterior
 */
        function getDiaHabilAnterior(fecha) {
            // Crear fecha solo con aÃ±o/mes/dÃ­a, ignorando horas y zona horaria
            const f = new Date(fecha.getFullYear(), fecha.getMonth(), fecha.getDate());
            do {
                f.setDate(f.getDate() - 1);
            } while (f.getDay() === 0 || f.getDay() === 6);
            return f;
        }

        // console.log('ultimo ajuste' + calcularFechaEsperada('2025-09-16', '01'));
        // // Ejemplo:
        // const diaHabil = getDiaHabilAnterior(hoy);
        // console.log(diaHabil.toISOString().split('T')[0]); // "2025-09-15"


        let indicadores;
        async function cargarIndicadores() {
            try {
                const response = await fetch('/api/indicadores');
                indicadores = await response.json();

                // Transformamos los datos para que DataTable los entienda
                const datosTabla = await Promise.all(indicadores.map(async (ind) => {
                    const usuario = await obtenerUsuarioPorLegajo(ind.responsable);
                    const sectores = await obtenerSectoresPorUnidad(ind.destino);

                    const ultima = await getUltimaMedicionPorIndicador(ind.id);
                    let fecha = '';
                    let resultadoActualizacion = 0;

                    if (ultima) {
                        let anio = 0;
                        let segunda = 0;
                        let tercera = 0;
                        switch (ind.freq_medicion) {

                            case '0201': // diaria (dÃ­a hÃ¡bil anterior)
                                const fechax = new Date(ultima.med_fecha_medicion);
                                fecha = fechax.toLocaleDateString('es-AR');
                                break;

                            case '0202': // semanal

                                anio = ultima.med_valor_periodo.substring(0, 4);  // primeros 4
                                segunda = ultima.med_valor_periodo.substring(4, 6);  // siguientes 2
                                fecha = "Sem. " + segunda + ' de ' + anio
                                break;

                            case '0203': // quincenal
                                anio = ultima.med_valor_periodo.substring(0, 4);  // primeros 4
                                segunda = ultima.med_valor_periodo.substring(4, 6);  // siguientes 2
                                tercera = ultima.med_valor_periodo.substring(6, 7);
                                fecha = tercera + ' Quin. ' + segunda + ' de ' + anio;
                                break;

                            case '0204': // mensual
                                anio = ultima.med_valor_periodo.substring(0, 4);  // primeros 4
                                segunda = ultima.med_valor_periodo.substring(4, 6);  // siguientes 2
                                switch (segunda) {
                                    case '01':
                                        fecha = 'Enero de ' + anio
                                        break;
                                    case '02':
                                        fecha = 'Febrero de ' + anio
                                        break;
                                    case '03':
                                        fecha = 'Marzo de ' + anio
                                        break;
                                    case '04':
                                        fecha = 'Abril de ' + anio
                                        break;
                                    case '05':
                                        fecha = 'Mayo de ' + anio
                                        break;
                                    case '06':
                                        fecha = 'Junio de ' + anio
                                        break;
                                    case '07':
                                        fecha = 'Julio de ' + anio
                                        break;
                                    case '08':
                                        fecha = 'Agosto de ' + anio
                                        break;
                                    case '09':
                                        fecha = 'Setiembre de ' + anio
                                        break;
                                    case '10':
                                        fecha = 'Octubre de ' + anio
                                        break;
                                    case '11':
                                        fecha = 'Noviembre de ' + anio
                                        break;
                                    case '12':
                                        fecha = 'Diciembre de ' + anio
                                        break;
                                }

                            case '0205': // bimestral
                                anio = ultima.med_valor_periodo.substring(0, 4);  // primeros 4
                                segunda = ultima.med_valor_periodo.substring(4, 5);  // siguientes 2
                                fecha = segunda + 'Bimestre de ' + ultima.med_anio
                                break;

                            case '0206': // trimestral
                                anio = ultima.med_valor_periodo.substring(0, 4);  // primeros 4
                                segunda = ultima.med_valor_periodo.substring(4, 5);  // siguientes 2
                                fecha = segunda + 'Trimestre de ' + ultima.med_anio
                                break;

                            case '0207': // cuatrimestral
                                anio = ultima.med_valor_periodo.substring(0, 4);  // primeros 4
                                segunda = ultima.med_valor_periodo.substring(4, 5);  // siguientes 1
                                fecha = segunda + 'Cuatrimestre de ' + anio
                                break;

                            case '0208': // semestral
                                anio = ultima.med_valor_periodo.substring(0, 4);  // primeros 4
                                segunda = ultima.med_valor_periodo.substring(4, 5);  // siguientes 1
                                fecha = segunda + 'Semestre de ' + anio
                                break;

                            case '0209': // anual
                                fecha = 'AÃ±o ' + ultima.med_valor_periodo
                                break;
                        }

                        // controla actualizaciÃ³n

                        const freqMedi = ind.freq_medicion.substring(2, 4);
                        const hoy = new Date();
                        const fechaFormateada = hoy.toISOString().split('T')[0];
                        const resultado = await calcularFechaEsperada(fechaFormateada, freqMedi);
                        console.log(`dio como resultado: ${ind.id} , ${freqMedi} , ${resultado}`)

                        if (resultado !== ultima.med_valor_periodo) {
                            console.log(`un distinto, calculado: ${resultado} y leido: ${ultima.med_valor_periodo}`)
                            resultadoActualizacion = `<td><span class="badge text-bg-danger"> Demorado </span></td>`;
                        }
                        else {
                            resultadoActualizacion = `<td><span class="badge text-bg-success"> Actualizado </span></td>`;
                        }
                    }
                    else {
                        fecha = "sin mediciones";
                        resultadoActualizacion = `<td><span class="badge text-bg-secondary"> Pendiente </span></td>`;
                    }

                    return {
                        codigo: ind.codigo_id,
                        nombre: ind.nombre,
                        descripcion: ind.descripcion,
                        responsable: `${usuario.nombres} ${usuario.apellido}`,
                        frecuencia: CodigosService.getNombreCodigo(ind.freq_medicion),
                        // carga: ind.fecha_inicio ? new Date(ind.fecha_inicio).toLocaleDateString() : '-',
                        carga: fecha,
                        estado: resultadoActualizacion,
                        acciones: `
                        <td class="icon-only-actions">
                            <button class="btn btn-primary btn-xs btn-icon-minimal" title="Ver" onclick="verDetalleIndicador('${ind.codigo_id}')">
                                <i class="fas fa-eye fa-xs"></i>
                            </button>
                            <button class="btn btn-warning btn-xs btn-icon-minimal" title="Editar" onclick="editarIndicador('${ind.id}', '${ind.codigo_id}', '${ind.nombre}', '${ind.unidad_medida}', '${ind.freq_medicion}')">
                                <i class="fas fa-edit fa-xs"></i>
                            </button>
                        </td>
                        `
                    };
                }));

                // Inicializar tabla la primera vez
                if (!tablaIndicadores) {
                    tablaIndicadores = $('#tablaIndicadores').DataTable({
                        data: datosTabla,
                        columns: [
                            { data: 'codigo', title: 'CÃ³digo' },
                            { data: 'nombre', title: 'Nombre' },
                            { data: 'descripcion', title: 'DescripciÃ³n' },
                            { data: 'responsable', title: 'Responsable' },
                            { data: 'frecuencia', title: 'MediciÃ³n' },
                            { data: 'carga', title: 'Ultima MediciÃ³n' },
                            { data: 'estado', title: 'Estado' },
                            { data: 'acciones', title: 'Acciones', orderable: false, searchable: false }
                        ],
                        columnDefs: [

                            { width: "30px", targets: 0 },   // CÃ³digo un poco angosto
                            { width: "50px", targets: 1 },  // Nombre mÃ¡s ancho
                            { width: "15px", targets: 2 },   // descripcion
                            { width: "50px", targets: 3 },  // responsable
                            { width: "40px", targets: 4 },   // medicion
                            { width: "40px", targets: 5 },   // carga
                            { width: "25px", targets: 6 },  // estado
                            { width: "40px", targets: 7 },   // acciones
                        ],
                        responsive: true,
                        autoWidth: false,
                        language: {
                            url: "https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"
                        },
                        order: [[0, 'asc']]
                    });
                } else {
                    // Actualizar datos sin destruir la tabla
                    tablaIndicadores.clear().rows.add(datosTabla).draw();
                }

                // Mostrar total y empty state
                const totalBadge = document.getElementById('totalIndicadores');
                const emptyState = document.getElementById('emptyState');

                if (datosTabla.length === 0) {
                    emptyState.style.display = 'block';
                    totalBadge.textContent = '0 indicadores';
                } else {
                    emptyState.style.display = 'none';
                    totalBadge.textContent = `${datosTabla.length} indicadores`;
                }

            } catch (error) {
                console.error('Error cargando indicadores:', error);
                alert('No se pudieron cargar los indicadores.');
            }
        }

        // async function controlaActualizacion(ind, freq) {
        //     const freqMedi = freq.substring(2, 4);
        //     const hoy = new Date();
        //     const fechaFormateada = hoy.toISOString().split('T')[0];
        //     const resultado = await calcularFechaEsperada(fechaFormateada, freqMedi);
        //     console.log(`dio como resultado: ${ind} , ${freq} , ${resultado}`)
        // }

        async function getUltimaMedicionPorIndicador(indicadorId) {
            // Filtrar por el indicador
            const mediciones = await leerMediciones();
            const filtradas = mediciones.filter(m => m.med_indicador_id == indicadorId);
            // console.log(filtradas);
            // Si no hay ninguna, devolvemos null
            if (filtradas.length === 0) return null;

            // Buscar la mÃ¡s reciente comparando fechas
            return filtradas.reduce((ultima, actual) => {
                return new Date(actual.med_fecha_medicion) > new Date(ultima.med_fecha_medicion)
                    ? actual
                    : ultima;
            });
        }

        async function obtenerUsuarioPorLegajo(responsable) {
            try {
                const response = await fetch(`/usuarios/${responsable}`);

                if (!response.ok) {
                    if (response.status === 404) {
                        console.warn('Usuario no encontrado');
                        return null;
                    }
                    throw new Error(`Error al obtener usuario: ${response.statusText}`);
                }
                const usuario = await response.json();
                return usuario;
            } catch (err) {
                console.error('Error en fetch:', err);
                return null;
            }
        }

        async function obtenerSectoresPorUnidad(unidad) {
            try {
                const response = await fetch(`/sectores/${unidad}`);

                if (!response.ok) {
                    if (response.status === 404) {
                        console.warn('Sector no encontrado');
                        return null;
                    }
                    throw new Error(`Error al obtener usuario: ${response.statusText}`);
                }
                const sector = await response.json();
                return sector;
            } catch (err) {
                console.error('Error en fetch:', err);
                return null;
            }
        }


        let medicionesGral = [];
        async function leerMediciones() {
            try {
                const res = await fetch('/api/mediciones');
                const json = await res.json();

                if (Array.isArray(json)) {
                    return json;
                } else if (json.success) {
                    return json.data || [];
                } else {
                    console.error("Error en la respuesta:", json);
                    return [];
                }
            } catch (err) {
                console.error("Error leyendo mediciones:", err);
                return [];
            }
        }


        // Servicio global para textp de tabla de cÃ³digos 
        const CodigosService = {
            codigosMap: {},

            async init() {
                const response = await fetch('/api/codigos');
                if (!response.ok) throw new Error('No se pudo obtener los codigos.');
                const codigos = await response.json();

                codigos.forEach(c => {
                    this.codigosMap[c.cod_tabla] = c.cod_nombre;
                });
            },

            getNombreCodigo(codigo) {
                return this.codigosMap[codigo] || '-';
            }
        };

        document.addEventListener("DOMContentLoaded", () => {
            iniciarPagina();
        });

        async function iniciarPagina() {
            // 1. Cargar codigos e indicadores
            await CodigosService.init();   // ð¹ primero inicializo los cÃ³digos
            await cargarIndicadores();     // ð¹ despuÃ©s cargo los indicadores

            // 2. Leer mediciones
            medicionesGral = await leerMediciones();

            // 3. Inicializar tooltips Bootstrap
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
            const tooltipList = [...tooltipTriggerList].map(
                (el) => new bootstrap.Tooltip(el)
            );
            console.log("â Tooltips inicializados:", tooltipList.length);
        }



    </script>


    <!--begin::Script-->

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">

    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

    <!--begin::Third Party Plugin(OverlayScrollbars)-->
    <script src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/browser/overlayscrollbars.browser.es6.min.js"
        integrity="sha256-dghWARbRe2eLlIJ56wNB+b760ywulqK3DzZYEpsg2fQ=" crossorigin="anonymous"></script>
    <!--end::Third Party Plugin(OverlayScrollbars)-->

    <!-- Bootstrap (bundle con Popper incluido) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- <script src="../../dist/js/adminlte.js"></script> -->
    <script src="../js/adminlte.js"></script>
    <!--end::Required Plugin(AdminLTE)-->

    <!--begin::OverlayScrollbars Configure-->
    <script>
        const SELECTOR_SIDEBAR_WRAPPER = '.sidebar-wrapper';
        const Default = {
            scrollbarTheme: 'os-theme-light',
            scrollbarAutoHide: 'leave',
            scrollbarClickScroll: true,
        };
        document.addEventListener('DOMContentLoaded', function () {
            const sidebarWrapper = document.querySelector(SELECTOR_SIDEBAR_WRAPPER);
            if (sidebarWrapper && OverlayScrollbarsGlobal?.OverlayScrollbars !== undefined) {
                OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
                    scrollbars: {
                        theme: Default.scrollbarTheme,
                        autoHide: Default.scrollbarAutoHide,
                        clickScroll: Default.scrollbarClickScroll,
                    },
                });
            }
        });
    </script>
    <!--end::OverlayScrollbars Configure-->
    <!-- OPTIONAL SCRIPTS -->
    <!-- sortablejs -->


    <!-- apexcharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.min.js"
        integrity="sha256-+vh8GkaU7C9/wbSLIcwq82tQ2wTf44aOHA8HlBMwRI8=" crossorigin="anonymous"></script>
    <!-- ChartJS -->


</body>
<!--end::Body-->

</html>